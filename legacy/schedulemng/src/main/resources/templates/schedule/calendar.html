<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:insert="~{common/fragments/header :: headerHead('쇼플릭스 일정관리')}" />
    
    <!-- 모바일 최적화 메타 태그 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <!-- Bootstrap & Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/css/calendar.css" />
    <link rel="stylesheet" href="/css/calendarMobile.css" />
    <link rel="stylesheet" href="/css/admin.css" />
    <link rel="stylesheet" href="/css/userMenu.css" />
</head>

<body>

<!-- 공통 사용자 메뉴: 관리자페이지, 사용자정보 변경, 로그아웃 -->
<div th:insert="~{common/fragments/userMenu :: user-menu}"></div>

<div class="calendar-wrapper">
    <div class="calendar">
        <div class="calendar-header">
            <button onclick="changeMonth(-1)">◀ 이전달</button>
            <h2 id="monthYear"></h2>
            <button onclick="changeMonth(1)">다음달 ▶</button>
        </div>
        <table>
            <thead>
            <tr>
                <th>일</th><th>월</th><th>화</th><th>수</th><th>목</th><th>금</th><th>토</th>
            </tr>
            </thead>
            <tbody id="calendarBody"></tbody>
        </table>

        <button onclick="saveSelections()" class="save-btn">✅ 저장하기</button>
    </div>

    <div id="divAdminMonthlyAttendeeArea">
        <!-- calendarAdmin.js : drawAdminMonthlyAttendees() -->
    </div>

    <div id="divAdminMemoArea">
        <!-- calendarAdmin.js : drawAdminMemo() -->
    </div>
</div>

<div th:insert="~{common/fragments/userInfoChgModal :: user-info-chg-modal}"></div>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/calendar/calendar.js" defer></script>
<script src="/js/calendar/calendarEmployee.js" defer></script>
<script src="/js/calendar/calendarAdmin.js" defer></script>
<script src="/js/admin.js" defer></script>
<script src="/js/userInfoChgModal.js" defer></script>
</html>