<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{admin/layouts/adminLayout :: admin-layout('시스템 설정', 'settings')}">
<head>
    <meta charset="UTF-8">
</head>
<body>
    <!-- 콘텐츠 영역 -->
    <div th:fragment="content">
        <div class="content-header">
            <h1>⚙️ 시스템 설정</h1>
            <p>시스템 전반적인 설정을 관리합니다.</p>
        </div>

        <!-- 일반 설정 -->
        <div class="card mb-4">
            <div class="card-header">
                <h5>일반 설정</h5>
            </div>
            <div class="card-body">
                <form id="generalSettingsForm">
                    <div class="row g-3">
                        <div class="col-12 col-sm-6">
                            <div class="mb-3">
                                <label for="siteName" class="form-label">사이트 이름</label>
                                <input type="text" class="form-control" id="siteName" name="siteName" value="ScheduleMng">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="mb-3">
                                <label for="timezone" class="form-label">시간대</label>
                                <select class="form-select" id="timezone" name="timezone">
                                    <option value="Asia/Seoul" selected>Asia/Seoul (한국)</option>
                                    <option value="UTC">UTC</option>
                                    <option value="America/New_York">America/New_York</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <button type="submit" class="btn btn-primary">저장</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- 보안 설정 -->
        <div class="card mb-4">
            <div class="card-header">
                <h5>보안 설정</h5>
            </div>
            <div class="card-body">
                <form id="securitySettingsForm">
                    <div class="row g-3">
                        <div class="col-12 col-sm-6">
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="enableTwoFactor" name="enableTwoFactor">
                                    <label class="form-check-label" for="enableTwoFactor">
                                        2단계 인증 활성화
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="mb-3">
                                <label for="sessionTimeout" class="form-label">세션 타임아웃 (분)</label>
                                <input type="number" class="form-control" id="sessionTimeout" name="sessionTimeout" value="30" min="5" max="480">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <button type="submit" class="btn btn-primary">저장</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- 알림 설정 -->
        <div class="card">
            <div class="card-header">
                <h5>알림 설정</h5>
            </div>
            <div class="card-body">
                <form id="notificationSettingsForm">
                    <div class="row g-3">
                        <div class="col-12 col-sm-6">
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="emailNotifications" name="emailNotifications" checked>
                                    <label class="form-check-label" for="emailNotifications">
                                        이메일 알림
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="pushNotifications" name="pushNotifications">
                                    <label class="form-check-label" for="pushNotifications">
                                        푸시 알림
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <button type="submit" class="btn btn-primary">저장</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- 스크립트 영역 -->
    <div th:fragment="scripts">
        <script>
            // 시스템 설정 전용 스크립트
            document.addEventListener('DOMContentLoaded', function() {
                // 서비스 준비중인 경우 알럿 표시 후 대시보드로 리다이렉트
                if ([[${serviceNotReady}]]) {
                    showAlert('서비스 준비중입니다.', 'warning');
                    setTimeout(() => {
                        window.location.href = '/admin';
                    }, 2000);
                    return;
                }
                
                setupSettingsForms();
            });

            function setupSettingsForms() {
                // 일반 설정 폼
                const generalForm = document.getElementById('generalSettingsForm');
                if (generalForm) {
                    generalForm.addEventListener('submit', function(e) {
                        e.preventDefault();
                        showAlert('일반 설정이 저장되었습니다.', 'success');
                    });
                }

                // 보안 설정 폼
                const securityForm = document.getElementById('securitySettingsForm');
                if (securityForm) {
                    securityForm.addEventListener('submit', function(e) {
                        e.preventDefault();
                        showAlert('보안 설정이 저장되었습니다.', 'success');
                    });
                }

                // 알림 설정 폼
                const notificationForm = document.getElementById('notificationSettingsForm');
                if (notificationForm) {
                    notificationForm.addEventListener('submit', function(e) {
                        e.preventDefault();
                        showAlert('알림 설정이 저장되었습니다.', 'success');
                    });
                }
            }
        </script>
    </div>
</body>
</html> 