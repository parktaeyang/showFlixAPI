<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{admin/layouts/adminLayout :: admin-layout('íŠ¹ìˆ˜ ì˜ˆì•½', 'schedule-special')}">
<head>
    <meta charset="UTF-8">
    <title>íŠ¹ìˆ˜ ì˜ˆì•½ ê´€ë¦¬</title>
    <link rel="stylesheet" th:href="@{/css/scheduleSpecial.css?v=7}">
    <style>
        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ */
        @media (max-width: 768px) {
            .search-input-group {
                flex-direction: column !important;
                gap: 10px !important;
            }
            .status-buttons {
                flex-wrap: wrap !important;
                gap: 8px !important;
            }
            .action-buttons {
                flex-direction: column !important;
                gap: 8px !important;
            }
            .special-stats-grid {
                grid-template-columns: 1fr !important;
                gap: 15px !important;
            }
            .special-reservation-actions {
                flex-direction: column !important;
                gap: 8px !important;
            }
            .btn-special {
                width: 100% !important;
                font-size: 12px !important;
            }
            .special-filter-section {
                padding: 20px !important;
            }
            .special-stats-section {
                padding: 15px !important;
            }
            .special-reservation-card {
                padding: 20px !important;
            }
            .section-divider {
                margin: 20px 0 !important;
            }
            .search-header h3 {
                font-size: 18px !important;
            }
            .search-header p {
                font-size: 14px !important;
            }
            .special-reservation-title {
                font-size: 18px !important;
            }
        }
        
        @media (max-width: 480px) {
            .special-filter-section {
                padding: 15px !important;
            }
            .special-stats-section {
                padding: 10px !important;
            }
            .special-reservation-card {
                padding: 15px !important;
            }
            .btn-special {
                padding: 6px 12px !important;
                font-size: 11px !important;
            }
        }
    </style>
</head>
<body>
    <!-- ì½˜í…ì¸  ì˜ì—­ -->
    <div th:fragment="content">
        <div class="content-header">
            <h1>ğŸ¯ íŠ¹ìˆ˜ ì˜ˆì•½ ê´€ë¦¬</h1>
            <p>íŠ¹ë³„í•œ ì˜ˆì•½ ë° ì´ë²¤íŠ¸ë¥¼ ê´€ë¦¬í•˜ê³  ìƒì„¸ ì •ë³´ë¥¼ ì…ë ¥/ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <!-- ê²€ìƒ‰ ë° í•„í„° ì„¹ì…˜ -->
        <div class="content-section">
            <div class="special-filter-section" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%) !important; padding: 30px !important; border-radius: 15px !important; margin-bottom: 30px !important; border: 2px solid #dee2e6 !important; box-shadow: 0 6px 25px rgba(0, 0, 0, 0.12) !important; position: relative !important; overflow: hidden !important;">
            <div class="search-header">
                <h3><i class="fas fa-search"></i> ì˜ˆì•½ ê²€ìƒ‰</h3>
                <p>ì›í•˜ëŠ” ì¡°ê±´ìœ¼ë¡œ ì˜ˆì•½ì„ ë¹ ë¥´ê²Œ ì°¾ì•„ë³´ì„¸ìš”</p>
            </div>
            
            <div class="search-main">
                <div class="search-input-group" style="display: flex !important; gap: 15px !important; flex-wrap: nowrap !important;">
                    <div class="search-input-wrapper" style="flex: 1 !important;">
                        <i class="fas fa-user search-icon"></i>
                        <input type="text" class="search-input" id="searchCustomerName" 
                               placeholder="ê³ ê°ëª…ìœ¼ë¡œ ê²€ìƒ‰...">
                    </div>
                    
                    <div class="search-input-wrapper" style="flex: 1 !important;">
                        <i class="fas fa-phone search-icon"></i>
                        <input type="text" class="search-input" id="searchContactInfo" 
                               placeholder="ì—°ë½ì²˜ë¡œ ê²€ìƒ‰...">
                    </div>
                    
                    <div class="search-input-wrapper" style="flex: 1 !important;">
                        <i class="fas fa-sticky-note search-icon"></i>
                        <input type="text" class="search-input" id="searchSpecialRemarks" 
                               placeholder="íŠ¹ì´ì‚¬í•­ìœ¼ë¡œ ê²€ìƒ‰...">
                    </div>
                </div>
                
                <div class="search-actions">
                    <div class="status-filter-group">
                        <label class="status-label">ìƒíƒœë³„ í•„í„°:</label>
                        <div class="status-buttons">
                        <button class="status-btn active" data-status="" onclick="filterByStatus('')" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important; color: white !important; border: none !important; padding: 8px 16px !important; border-radius: 20px !important; font-weight: 500 !important; transition: all 0.3s ease !important; box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3) !important;">
                            <i class="fas fa-list"></i> ì „ì²´
                        </button>
                        <button class="status-btn" data-status="PENDING" onclick="filterByStatus('PENDING')" style="background: white !important; color: #6c757d !important; border: 1px solid #e9ecef !important; padding: 8px 16px !important; border-radius: 20px !important; font-weight: 500 !important; transition: all 0.3s ease !important;">
                            <i class="fas fa-clock"></i> ëŒ€ê¸°
                        </button>
                        <button class="status-btn" data-status="CONFIRMED" onclick="filterByStatus('CONFIRMED')" style="background: white !important; color: #6c757d !important; border: 1px solid #e9ecef !important; padding: 8px 16px !important; border-radius: 20px !important; font-weight: 500 !important; transition: all 0.3s ease !important;">
                            <i class="fas fa-check-circle"></i> í™•ì •
                        </button>
                        <button class="status-btn" data-status="COMPLETED" onclick="filterByStatus('COMPLETED')" style="background: white !important; color: #6c757d !important; border: 1px solid #e9ecef !important; padding: 8px 16px !important; border-radius: 20px !important; font-weight: 500 !important; transition: all 0.3s ease !important;">
                            <i class="fas fa-check-double"></i> ì™„ë£Œ
                        </button>
                        <button class="status-btn" data-status="CANCELLED" onclick="filterByStatus('CANCELLED')" style="background: white !important; color: #6c757d !important; border: 1px solid #e9ecef !important; padding: 8px 16px !important; border-radius: 20px !important; font-weight: 500 !important; transition: all 0.3s ease !important;">
                            <i class="fas fa-times-circle"></i> ì·¨ì†Œ
                        </button>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn-search" onclick="searchReservations()" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important; color: white !important; border: none !important; padding: 8px 16px !important; border-radius: 8px !important; font-weight: 500 !important; font-size: 14px !important; transition: all 0.3s ease !important;">
                            <i class="fas fa-search"></i> ê²€ìƒ‰
                        </button>
                        <button class="btn-clear" onclick="clearSearchFields()" style="background: #6c757d !important; color: white !important; border: none !important; padding: 8px 16px !important; border-radius: 8px !important; font-weight: 500 !important; font-size: 14px !important; transition: all 0.3s ease !important;">
                            <i class="fas fa-eraser"></i> ì´ˆê¸°í™”
                        </button>
                        <button class="btn-refresh" onclick="loadSpecialReservations()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important; color: white !important; border: none !important; padding: 8px 16px !important; border-radius: 8px !important; font-weight: 500 !important; font-size: 14px !important; transition: all 0.3s ease !important;">
                            <i class="fas fa-sync-alt"></i> ìƒˆë¡œê³ ì¹¨
                        </button>
                    </div>
                </div>
            </div>
            </div>
        </div>

        <!-- ì„¹ì…˜ êµ¬ë¶„ì„  -->
        <div class="section-divider" style="height: 2px !important; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important; margin: 30px 0 !important; border-radius: 1px !important; box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3) !important;"></div>

        <!-- ì˜ˆì•½ í˜„í™© ìš”ì•½ ì„¹ì…˜ -->
        <div class="content-section">
            <div class="special-stats-section" style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%) !important; padding: 15px !important; border-radius: 15px !important; margin-bottom: 20px !important; border: 2px solid #e9ecef !important; box-shadow: 0 6px 25px rgba(0, 0, 0, 0.12) !important; position: relative !important; overflow: hidden !important;">
                <div class="special-stats-grid" style="display: grid !important; grid-template-columns: repeat(3, 1fr) !important; gap: 20px !important; margin-top: 20px !important; width: 100% !important;">
            <div class="special-stat-card" style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%) !important; padding: 20px !important; border-radius: 12px !important; text-align: center !important; border: 1px solid #e9ecef !important; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important; transition: transform 0.2s ease !important;">
                <div class="special-stat-number" id="totalReservations" style="font-size: 24px !important; font-weight: bold !important; color: #667eea !important; margin-bottom: 8px !important;">0</div>
                <div class="special-stat-label" style="font-size: 14px !important; color: #6c757d !important; font-weight: 500 !important;">ì´ ì˜ˆì•½</div>
            </div>
            <div class="special-stat-card" style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%) !important; padding: 20px !important; border-radius: 12px !important; text-align: center !important; border: 1px solid #e9ecef !important; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important; transition: transform 0.2s ease !important;">
                <div class="special-stat-number" id="pendingReservations" style="font-size: 24px !important; font-weight: bold !important; color: #667eea !important; margin-bottom: 8px !important;">0</div>
                <div class="special-stat-label" style="font-size: 14px !important; color: #6c757d !important; font-weight: 500 !important;">ëŒ€ê¸°ì¤‘</div>
            </div>
            <div class="special-stat-card" style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%) !important; padding: 20px !important; border-radius: 12px !important; text-align: center !important; border: 1px solid #e9ecef !important; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important; transition: transform 0.2s ease !important;">
                <div class="special-stat-number" id="confirmedReservations" style="font-size: 24px !important; font-weight: bold !important; color: #667eea !important; margin-bottom: 8px !important;">0</div>
                <div class="special-stat-label" style="font-size: 14px !important; color: #6c757d !important; font-weight: 500 !important;">í™•ì •</div>
            </div>
                </div>
            </div>
        </div>

        <!-- ì„¹ì…˜ êµ¬ë¶„ì„  -->
        <div class="section-divider" style="height: 2px !important; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important; margin: 30px 0 !important; border-radius: 1px !important; box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3) !important;"></div>

        <!-- íŠ¹ìˆ˜ ì˜ˆì•½ ê´€ë¦¬í‘œ ì„¹ì…˜ -->
        <div class="content-section">
            <div class="special-reservation-card" style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%) !important; border-radius: 15px !important; padding: 25px !important; margin-bottom: 20px !important; box-shadow: 0 6px 25px rgba(0, 0, 0, 0.12) !important; border: 2px solid #e9ecef !important; position: relative !important; overflow: hidden !important;">
            <div class="special-reservation-header">
                <h3 class="special-reservation-title">ğŸ“Š íŠ¹ìˆ˜ ì˜ˆì•½ ê´€ë¦¬í‘œ</h3>
                <div class="special-reservation-actions">
                    <button class="btn-special btn-info" onclick="addNewReservation()"
                            title="ìƒˆë¡œìš´ íŠ¹ìˆ˜ ì˜ˆì•½ì„ ì¶”ê°€í•©ë‹ˆë‹¤" style="background: linear-gradient(135deg, #17a2b8 0%, #138496 100%) !important; color: white !important; border: none !important; padding: 8px 16px !important; border-radius: 8px !important; font-weight: 500 !important; font-size: 14px !important; transition: all 0.3s ease !important;">
                        <i class="fas fa-plus"></i> ìƒˆ ì˜ˆì•½ ì¶”ê°€
                    </button>
                    <button class="btn-special" onclick="saveAllReservations()"
                            title="ëª¨ë“  ë³€ê²½ì‚¬í•­ì„ ì €ì¥í•©ë‹ˆë‹¤" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important; color: white !important; border: none !important; padding: 8px 16px !important; border-radius: 8px !important; font-weight: 500 !important; font-size: 14px !important; transition: all 0.3s ease !important;">
                        <i class="fas fa-save"></i> ì „ì²´ ì €ì¥
                    </button>
                    <button class="btn-special btn-success" onclick="exportToExcel()"
                            title="í˜„ì¬ ë°ì´í„°ë¥¼ ì—‘ì…€ íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%) !important; color: white !important; border: none !important; padding: 8px 16px !important; border-radius: 8px !important; font-weight: 500 !important; font-size: 14px !important; transition: all 0.3s ease !important;">
                        <i class="fas fa-download"></i> ì—‘ì…€ ë‚´ë³´ë‚´ê¸°
                    </button>
                </div>
            </div>
            <div class="special-table-container">
                <table class="special-schedule-table" id="specialReservationTable">
                    <thead>
                    <tr>
                        <th>ë‚ ì§œ</th>
                        <th>ì‹œê°„</th>
                        <th>íŠ¹ì´ì‚¬í•­</th>
                        <th>ì´ë¦„</th>
                        <th>ì¸ì›(ëª…)</th>
                        <th>ê²°ì œì—¬ë¶€</th>
                        <th>ì—°ë½ì²˜</th>
                        <th>ë¹„ê³ </th>
                        <th>ê´€ë¦¬</th>
                    </tr>
                    </thead>
                    <tbody id="specialReservationTableBody">
                    <!-- ë°ì´í„°ê°€ ì—†ì„ ë•Œ í‘œì‹œí•  ë¹ˆ í–‰ -->
                    <tr class="empty-row" style="display: none;">
                        <td colspan="9" class="empty-message">
                            <div class="empty-state">
                                <i class="fas fa-calendar-plus"></i>
                                <p>ë“±ë¡ëœ íŠ¹ìˆ˜ ì˜ˆì•½ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                                <button class="btn-special btn-info" onclick="addNewReservation()">
                                    <i class="fas fa-plus"></i> ìƒˆ ì˜ˆì•½ ì¶”ê°€í•˜ê¸°
                                </button>
                            </div>
                        </td>
                    </tr>

                    </tbody>
                </table>
            </div>
            </div>
        </div>

    </div>


</body>

<!-- ìŠ¤í¬ë¦½íŠ¸ ì˜ì—­ -->
<div th:fragment="scripts">
    <script th:src="@{/js/scheduleSpecial.js}"></script>
</div>
</html>